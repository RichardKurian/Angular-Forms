


  <div>
    <button (click)="formToggle()"> click to toggle forms</button>
  </div>

    <form  [formGroup]="userProfileForm" (ngSubmit)="onSubmit()">
      <div class="banner" *ngIf="toggleForm===true">
        <h1>New Member Registration</h1>
      </div>

      <div class="banner" *ngIf="toggleForm===false">
        <h1>second form</h1>
      </div>

      <div class="colums">

        <div class="item">
          <label for="fname"> First Name<span>*</span></label>
          <input formControlName="firstName" id="fname" type="text" />
          <small *ngIf="userProfileForm.get('firstName')?.touched && (userProfileForm.get('firstName')?.invalid)" style="color: red;">first name is required</small>
  
        </div>

        <div class="item">
          <label for="lname"> Last Name<span>*</span></label>
          <input formControlName="lastName" id="lname" type="text" name="lname" />
          <small *ngIf="userProfileForm.get('lastName')?.touched && (userProfileForm.get('lastName')?.invalid)" style="color: red;">last name is required </small>
        </div>

        <div  *ngIf="toggleForm===true" formGroupName="address">


          <div class="item">
            <label for="address1">Address 1<span>*</span></label>
            <input formControlName="address1" id="address1" type="text"   name="address1" />
    
          </div>


             <ng-container></ng-container>
          <div class="item">
            <label for="address2">Address 2<span>*</span></label>
            <input formControlName ="address2" type="text" placeholder=""  name="address2" />
            <!-- <div *ngIf="userProfileForm.address.controls[address2].hasError(
              'required'
            )">address 2 is required</div> -->
            <small *ngIf="userProfileForm.get(['address','address2'])?.touched && (userProfileForm.get(['address','address2'])?.invalid)" style="color: red;">address 2 is invalid</small>
          </div>

          <div class="item">
            <label for="state">State<span>*</span></label>
            <input formControlName="state" id="state" type="text"   name="state" />

          </div>
          <div class="item">
            <label for="zip">Zip/Postal Code<span>*</span></label>
            <input formControlName="zip" id="zip" type="text" name="zip" />
          </div>
          <div class="item">
            <label for="city">City<span>*</span></label>
            <input formControlName="city" id="city" type="text"   name="city" />
          </div>
          <div class="item">
            <label for="eaddress">Email Address<span>*</span></label>
            <input formControlName="email" id="eaddress" type="text"   name="eaddress" />
          </div>
          <div class="item">
            <label for="phone">Phone<span>*</span></label>
            <input  formControlName="phone" id="phone" type="tel"   name="phone" />
          </div>
       

        </div>

      </div>


      <h2>Terms and Conditions</h2>
      <input type="checkbox" name="checkbox1">
      <label>You consent to receive communications from us electronically. We will communicate with you by e-mail or phone. You agree that all agreements, notices, disclosures and other communications that we provide to you electronically satisfy any legal requirement that such communications be in writing.</label>
      <div class="btn-block">

        <input type="submit" [disabled]="!userProfileForm.valid && toggleForm===true || 
       userProfileForm.get('lastName')?.invalid || userProfileForm.get('firstName')?.invalid
        ">
      </div>

  </form>

